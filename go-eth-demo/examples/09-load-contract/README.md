# ğŸ”§ æ™ºèƒ½åˆçº¦åŠ è½½æŒ‡å—

æœ¬ç›®å½•æ¼”ç¤ºäº†å¦‚ä½•åœ¨Goä¸­åŠ è½½å’Œç®¡ç†å·²éƒ¨ç½²çš„æ™ºèƒ½åˆçº¦ã€‚

## ğŸ“ æ–‡ä»¶è¯´æ˜

### 1. `load_contract_demo.go`
åŸºç¡€åˆçº¦åŠ è½½æ¼”ç¤ºï¼ŒåŒ…å«5ç§ä¸åŒçš„åŠ è½½æ–¹æ³•ï¼š

- **æ–¹æ³•1**: ä»ç¯å¢ƒå˜é‡åŠ è½½åˆçº¦
- **æ–¹æ³•2**: æ‰‹åŠ¨æŒ‡å®šåœ°å€åŠ è½½åˆçº¦  
- **æ–¹æ³•3**: éªŒè¯åˆçº¦å­˜åœ¨æ€§
- **æ–¹æ³•4**: è·å–åˆçº¦åŸºæœ¬ä¿¡æ¯
- **æ–¹æ³•5**: æ‰¹é‡åŠ è½½å¤šä¸ªåˆçº¦

### 2. `contract_manager.go`
é«˜çº§åˆçº¦ç®¡ç†å™¨ï¼Œæä¾›ä¼ä¸šçº§åˆçº¦ç®¡ç†åŠŸèƒ½ï¼š

- åˆçº¦æ³¨å†Œè¡¨ç®¡ç†
- æ‰¹é‡åˆçº¦åŠ è½½
- åˆçº¦å¥åº·æ£€æŸ¥
- äº‹ä»¶ç›‘æ§
- é…ç½®æ–‡ä»¶ç®¡ç†

## ğŸš€ è¿è¡Œæ¼”ç¤º

### åŸºç¡€åŠ è½½æ¼”ç¤º
```bash
cd go-eth-demo
go run examples/09-load-contract/load_contract_demo.go
```

### åˆçº¦ç®¡ç†å™¨æ¼”ç¤º
```bash
cd go-eth-demo
go run examples/09-load-contract/contract_manager.go
```

## ğŸ“‹ é¢„æœŸè¾“å‡º

### åŸºç¡€æ¼”ç¤ºè¾“å‡º
```
ğŸ”§ æ™ºèƒ½åˆçº¦åŠ è½½æ¼”ç¤º
====================
âœ… ä»¥å¤ªåŠèŠ‚ç‚¹è¿æ¥æˆåŠŸ

ğŸ“‹ æ–¹æ³•1: ä»ç¯å¢ƒå˜é‡åŠ è½½åˆçº¦
âœ… åˆçº¦åœ°å€: 0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5
   ğŸ” å°è¯•è¯»å–åˆçº¦çŠ¶æ€...
   âœ… å½“å‰å­˜å‚¨å€¼: 150
   ğŸ‘¤ åˆçº¦æ‰€æœ‰è€…: 0xC52d29F4273e9BFE2C4E76B4A684Dab18D0F0191

ğŸ“‹ æ–¹æ³•2: æ‰‹åŠ¨æŒ‡å®šåœ°å€åŠ è½½åˆçº¦
âœ… åˆçº¦åœ°å€: 0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5
   ğŸ” å°è¯•è¯»å–åˆçº¦çŠ¶æ€...
   âœ… å½“å‰å­˜å‚¨å€¼: 150

ğŸ“‹ æ–¹æ³•3: éªŒè¯åˆçº¦å­˜åœ¨æ€§
âœ… åˆçº¦å­˜åœ¨ä¸”æœ‰ä»£ç 

ğŸ“‹ æ–¹æ³•4: è·å–åˆçº¦åŸºæœ¬ä¿¡æ¯
   ğŸ“ åˆçº¦ä»£ç å¤§å°: 1234 å­—èŠ‚
   ğŸ’° åˆçº¦ä½™é¢: 0.000000 ETH
   ğŸ”¢ åˆçº¦nonce: 1

ğŸ“‹ æ–¹æ³•5: æ‰¹é‡åŠ è½½å¤šä¸ªåˆçº¦
âœ… æˆåŠŸåŠ è½½ 1 ä¸ªåˆçº¦
   åˆçº¦1: 0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5

ğŸ‰ åˆçº¦åŠ è½½æ¼”ç¤ºå®Œæˆ!
```

### ç®¡ç†å™¨æ¼”ç¤ºè¾“å‡º
```
ğŸ—ï¸  æ™ºèƒ½åˆçº¦ç®¡ç†å™¨æ¼”ç¤º
========================

ğŸ“‹ 1. åˆ›å»ºåˆçº¦æ³¨å†Œè¡¨
âœ… åˆçº¦æ³¨å†Œè¡¨å·²åˆ›å»º

ğŸ“‹ 2. ä»æ³¨å†Œè¡¨åŠ è½½åˆçº¦
   âœ… åŠ è½½åˆçº¦: SimpleStorage (0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5)
âœ… æˆåŠŸåŠ è½½ 1 ä¸ªåˆçº¦

ğŸ“‹ 3. åˆ—å‡ºå·²åŠ è½½çš„åˆçº¦
   ğŸ“„ SimpleStorage: 0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5

ğŸ“‹ 4. è·å–ç‰¹å®šåˆçº¦
âœ… æ‰¾åˆ°åˆçº¦: 0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5
ğŸ“Š å½“å‰å­˜å‚¨å€¼: 150

ğŸ“‹ 5. ç›‘æ§åˆçº¦äº‹ä»¶
ğŸ” å¼€å§‹ç›‘æ§DataStoredäº‹ä»¶...
ğŸ” æ­£åœ¨ç›‘å¬åˆçº¦äº‹ä»¶...
â° ç›‘å¬è¶…æ—¶ï¼Œåœæ­¢ç›‘æ§

ğŸ“‹ 6. åˆçº¦å¥åº·æ£€æŸ¥
ğŸ“Š å¥åº·æ£€æŸ¥æŠ¥å‘Š:
   âœ… SimpleStorage: å¥åº·

ğŸ‰ åˆçº¦ç®¡ç†å™¨æ¼”ç¤ºå®Œæˆ!
```

## ğŸ”‘ æ ¸å¿ƒæ¦‚å¿µ

### 1. åˆçº¦å®ä¾‹ç»“æ„
```go
type ContractInstance struct {
    Address common.Address  // åˆçº¦åœ°å€
    ABI     *abi.ABI       // åˆçº¦ABI
    Client  *ethclient.Client // ä»¥å¤ªåŠå®¢æˆ·ç«¯
}
```

### 2. åˆçº¦éªŒè¯
- æ£€æŸ¥åœ°å€æ ¼å¼æœ‰æ•ˆæ€§
- éªŒè¯åˆçº¦ä»£ç å­˜åœ¨
- æµ‹è¯•åŸºæœ¬æ–¹æ³•è°ƒç”¨

### 3. æ‰¹é‡ç®¡ç†
- åˆçº¦æ³¨å†Œè¡¨é…ç½®
- æ‰¹é‡åŠ è½½å’ŒéªŒè¯
- å¥åº·çŠ¶æ€ç›‘æ§

### 4. äº‹ä»¶ç›‘æ§
- å®æ—¶äº‹ä»¶è®¢é˜…
- æ—¥å¿—è¿‡æ»¤å’Œè§£æ
- å¼‚æ­¥äº‹ä»¶å¤„ç†

## ğŸ“š å­¦ä¹ è¦ç‚¹

### åœ°å€éªŒè¯
```go
if !common.IsHexAddress(addressStr) {
    return nil, fmt.Errorf("æ— æ•ˆçš„åˆçº¦åœ°å€: %s", addressStr)
}
```

### åˆçº¦å­˜åœ¨æ€§æ£€æŸ¥
```go
code, err := client.CodeAt(context.Background(), contractAddress, nil)
return len(code) > 0, err
```

### ABIåŠ è½½å’Œè§£æ
```go
contractABI, err := abi.JSON(strings.NewReader(abiString))
```

### åªè¯»æ–¹æ³•è°ƒç”¨
```go
result, err := client.CallContract(context.Background(), ethereum.CallMsg{
    To:   &contractAddress,
    Data: data,
}, nil)
```

## ğŸ› ï¸ æœ€ä½³å®è·µ

1. **åœ°å€éªŒè¯**: å§‹ç»ˆéªŒè¯åˆçº¦åœ°å€æ ¼å¼
2. **å­˜åœ¨æ€§æ£€æŸ¥**: ç¡®è®¤åˆçº¦å·²éƒ¨ç½²ä¸”æœ‰ä»£ç 
3. **é”™è¯¯å¤„ç†**: ä¼˜é›…å¤„ç†ç½‘ç»œå’Œåˆçº¦é”™è¯¯
4. **é…ç½®ç®¡ç†**: ä½¿ç”¨é…ç½®æ–‡ä»¶ç®¡ç†å¤šä¸ªåˆçº¦
5. **å¥åº·ç›‘æ§**: å®šæœŸæ£€æŸ¥åˆçº¦çŠ¶æ€
6. **äº‹ä»¶ç›‘å¬**: å®ç°å¼‚æ­¥äº‹ä»¶å¤„ç†

## ğŸ”— ç›¸å…³é“¾æ¥

- [ä»¥å¤ªåŠåˆçº¦åœ°å€](https://sepolia.etherscan.io/address/0xd737368D3bB49649CC4Fc098b93B7c2D6Af9E3B5)
- [Go-Ethereumæ–‡æ¡£](https://geth.ethereum.org/docs/developers/dapp-developer/native-bindings)
- [ABIè§„èŒƒ](https://docs.soliditylang.org/en/latest/abi-spec.html)